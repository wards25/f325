var _0x4137a8=_0x111a;(function(_0x511999,_0x221634){var _0x5509c3=_0x111a,_0x4ad77f=_0x511999();while(!![]){try{var _0x1f926b=-parseInt(_0x5509c3(0x1ba))/0x1+parseInt(_0x5509c3(0x1b7))/0x2+-parseInt(_0x5509c3(0x1a7))/0x3+-parseInt(_0x5509c3(0x1c1))/0x4+parseInt(_0x5509c3(0x172))/0x5*(parseInt(_0x5509c3(0x1a2))/0x6)+-parseInt(_0x5509c3(0x19c))/0x7+-parseInt(_0x5509c3(0x1bf))/0x8*(-parseInt(_0x5509c3(0x1c4))/0x9);if(_0x1f926b===_0x221634)break;else _0x4ad77f['push'](_0x4ad77f['shift']());}catch(_0x313e47){_0x4ad77f['push'](_0x4ad77f['shift']());}}}(_0x54ac,0xcd300),$(document)[_0x4137a8(0x1b6)](function(){ShowMenu(),ShowMenuHover(),LoadList(),ReloadPage(),OnChangeDeductType();}));function _0x111a(_0x54d288,_0x508ae0){var _0x54acb1=_0x54ac();return _0x111a=function(_0x111ad5,_0x56a032){_0x111ad5=_0x111ad5-0x16b;var _0x5e602e=_0x54acb1[_0x111ad5];return _0x5e602e;},_0x111a(_0x54d288,_0x508ae0);}function ReloadPage(){setTimeout(function(){var _0x3a6ddd=_0x111a;window['location'][_0x3a6ddd(0x179)]();},0xdbba0);}function addCommas(_0x259767){var _0x268365=_0x4137a8,_0x631071=_0x259767[_0x268365(0x196)]()[_0x268365(0x176)]('.');return _0x631071[0x0][_0x268365(0x170)]>=0x4&&(_0x631071[0x0]=_0x631071[0x0][_0x268365(0x177)](/(\d)(?=(\d{3})+$)/g,_0x268365(0x1a1))),_0x631071[_0x268365(0x175)]('.');}function _0x54ac(){var _0x15ab3f=['1312808vzPzFa','each','.input-quantity','.select-location','#5a5a5a','8qvQKNp','.button-fordeduct','1891732NQAgZV','Reference\x20#\x20is\x20exist','click','21793077FHGRkS','year','hide','0.5','.input-unitcost','companycode','val','prop','.input-prepared','html','.input-subtotal','length','data','292405XjcZOZ','.div-bg','deduction.php','join','split','replace','.input-f325number','reload','.input-check-sku','css','.input-check-sku:enabled','.loader-list','keyup','.td-uom','reset','closest','.input-check-sku:checked','disabled','.form-order-detail','.button-menu','.tbl-list-order-tr','toFixed','.span-notify-alert','decimal','.loader-sku-list','.select-monthyear\x20option:selected','ajax','find','target','.tbl-order-list','.button-bypassdeduct','attr','.input-ordernumber','.button-menu,.span-text-menu','category','.button-form-menu','toString','has','.input-status','.input-customer','.tbody-list-order','.input-remarks','2216417zLVXIZ','.select-monthyear','POST','background-Color','.input-company','$1,','36jbJvEv','refcode','true','mouseup','.button-close','3008436iWfqdg','opacity','skuid','updateraw.php','.input-all-check','.input-deducttype','.div-confirm','.input-mdccode','substr','PCS','show','select','mouseover','.input-orderdate','.tbl-order-detail-tr','ready','2346586tyPuTO','.span-text-menu','checked'];_0x54ac=function(){return _0x15ab3f;};return _0x54ac();}function enforceNumberValidation(_0x6b911){var _0x546848=_0x4137a8;if($(_0x6b911)[_0x546848(0x171)](_0x546848(0x189))!=null){var _0x2a700f=parseInt($(_0x6b911)['data']('decimal'))||0x0,_0x1d579e=$(_0x6b911)['val']();if(_0x2a700f>0x0){var _0x1d67b9=_0x1d579e[_0x546848(0x176)]('.');_0x1d67b9['length']==0x2&&_0x1d67b9[0x1][_0x546848(0x170)]>_0x2a700f&&$(_0x6b911)[_0x546848(0x16b)](_0x1d67b9[0x0]+'.'+_0x1d67b9[0x1][_0x546848(0x1af)](0x0,_0x2a700f));}else{if(_0x2a700f==0x0){var _0x1d67b9=_0x1d579e[_0x546848(0x176)]('.');_0x1d67b9[_0x546848(0x170)]>0x1&&$(_0x6b911)[_0x546848(0x16b)](_0x1d67b9[0x0]);}}}}$(document)[_0x4137a8(0x1a5)](function(_0x1d9187){var _0x28eb93=_0x4137a8,_0x2c2886=$('.div-menu-list');!_0x2c2886['is'](_0x1d9187[_0x28eb93(0x18e)])&&_0x2c2886[_0x28eb93(0x197)](_0x1d9187[_0x28eb93(0x18e)])[_0x28eb93(0x170)]===0x0&&_0x2c2886['hide']();});function ShowMenuHover(){var _0x5bdf25=_0x4137a8;$(_0x5bdf25(0x1b8))['on'](_0x5bdf25(0x1b3),function(){var _0x558261=_0x5bdf25;$('.button-menu')['css'](_0x558261(0x19f),_0x558261(0x1be)),$(_0x558261(0x185))[_0x558261(0x17b)](_0x558261(0x1a8),_0x558261(0x1c7));}),$(_0x5bdf25(0x1b8))['on']('mouseleave',function(){var _0x3c58d9=_0x5bdf25;$(_0x3c58d9(0x185))[_0x3c58d9(0x17b)](_0x3c58d9(0x19f),'');});}function ShowMenu(){var _0xa6f0d0=_0x4137a8;$(_0xa6f0d0(0x193))['on'](_0xa6f0d0(0x1c3),function(){$('.div-menu-list')['toggle']();});}function LoadList(){var _0x516c29=_0x4137a8,_0x4c5c37=$('.select-company')[_0x516c29(0x16b)](),_0x37f21e=$(_0x516c29(0x19d))['val'](),_0x349256=$(_0x516c29(0x18b))[_0x516c29(0x191)](_0x516c29(0x1c5)),_0x2ea6e8=$(_0x516c29(0x1bd))['val']();$[_0x516c29(0x18c)]({'type':_0x516c29(0x19e),'beforeSend':function(){var _0x24419b=_0x516c29;$(_0x24419b(0x19a))[_0x24419b(0x16e)](''),$(_0x24419b(0x17d))[_0x24419b(0x1b1)]();},'url':'loadlist.php','data':{'company':_0x4c5c37,'month':_0x37f21e,'year':_0x349256,'location':_0x2ea6e8},'success':function(_0x5f24e4){var _0x169db8=_0x516c29;$(_0x169db8(0x17d))['hide'](),$(_0x169db8(0x19a))[_0x169db8(0x16e)](_0x5f24e4),LoadDetail();}});}function CloseForm(){var _0x4934ec=_0x4137a8;$(_0x4934ec(0x173))[_0x4934ec(0x1c6)](),$(_0x4934ec(0x190))['hide'](),$(_0x4934ec(0x18f))['html'](''),$(_0x4934ec(0x184))[0x0][_0x4934ec(0x180)]();}function CheckBypass(){var _0x4c6783=_0x4137a8,_0x4d30e6=$(_0x4c6783(0x1a0))[_0x4c6783(0x191)]('companycode');$[_0x4c6783(0x18c)]({'type':'POST','url':'bypass.php','data':{'vcode':_0x4d30e6},'success':function(_0x2b1b7a){var _0x3f95bb=_0x4c6783;_0x2b1b7a==_0x3f95bb(0x1a4)?($('.button-bypassdeduct')[_0x3f95bb(0x1b1)](),$(_0x3f95bb(0x190))[_0x3f95bb(0x16c)](_0x3f95bb(0x183),![])):($(_0x3f95bb(0x190))[_0x3f95bb(0x1c6)](),$(_0x3f95bb(0x190))[_0x3f95bb(0x16c)](_0x3f95bb(0x183),!![]));}});}function AllowBypass(){var _0x37bbf6=_0x4137a8;$(_0x37bbf6(0x17a))['prop'](_0x37bbf6(0x183),![]),BypassDisabledEnabled();}function BypassDisabledEnabled(){var _0x43a1f4=_0x4137a8,_0x56ad06=$(_0x43a1f4(0x17c))[_0x43a1f4(0x170)],_0x15ebf9=$(_0x43a1f4(0x1b5))['length'];_0x15ebf9==_0x56ad06?$(_0x43a1f4(0x190))[_0x43a1f4(0x16c)](_0x43a1f4(0x183),!![]):$(_0x43a1f4(0x190))['prop'](_0x43a1f4(0x183),![]);}function LoadDetail(){var _0x115026=_0x4137a8;$(_0x115026(0x186))['click'](function(){var _0xfea33=_0x115026,_0x14328b=$(this)[_0xfea33(0x191)](_0xfea33(0x194)),_0x2ae4ad=$(this)['attr']('refcode'),_0x4bffc6=$(this)[_0xfea33(0x191)]('company'),_0x5b78b9=$(this)[_0xfea33(0x191)]('companycode'),_0x3966aa=setInterval(function(){var _0xcff8e3=_0xfea33;NextNumber(_0x2ae4ad),$(_0xcff8e3(0x1a6))[_0xcff8e3(0x1c3)](function(){var _0x56587c=_0xcff8e3;$('.input-ordernumber')[_0x56587c(0x16b)](''),clearInterval(_0x3966aa);});},0x1f4);$('.input-customer')[_0xfea33(0x16b)](_0x14328b),$('.input-company')[_0xfea33(0x16b)](_0x4bffc6),$(_0xfea33(0x1a0))[_0xfea33(0x191)](_0xfea33(0x1a3),_0x2ae4ad),$(_0xfea33(0x1a0))[_0xfea33(0x191)](_0xfea33(0x1c9),_0x5b78b9),LoadSku(),$(_0xfea33(0x173))['show']();});}function NextNumber(_0x2e6d15){var _0x2f23ce=_0x4137a8;$[_0x2f23ce(0x18c)]({'type':_0x2f23ce(0x19e),'url':'reference.php','data':{'refcode':_0x2e6d15},'success':function(_0x47fb1d){var _0x230466=_0x2f23ce;$(_0x230466(0x192))['val'](_0x47fb1d);}});}function OnChangeDeductType(){var _0x18b1ad=_0x4137a8;$(document)['on']('change',_0x18b1ad(0x1ac),function(){LoadSku();});}function LoadSku(){var _0x3da34b=_0x4137a8,_0x55d994=$(_0x3da34b(0x199))[_0x3da34b(0x16b)](),_0x19a5f0=$(_0x3da34b(0x1bd))[_0x3da34b(0x16b)](),_0x4af194=$(_0x3da34b(0x1a0))[_0x3da34b(0x191)](_0x3da34b(0x1c9)),_0x196b31=$(_0x3da34b(0x1ac))[_0x3da34b(0x16b)]();$[_0x3da34b(0x18c)]({'type':_0x3da34b(0x19e),'url':'loadsku.php','beforeSend':function(){var _0x155574=_0x3da34b;$(_0x155574(0x18a))[_0x155574(0x1b1)](),$(_0x155574(0x1a6))['prop'](_0x155574(0x183),!![]),$(_0x155574(0x195))[_0x155574(0x16c)]('disabled',!![]);},'data':{'category':_0x55d994,'location':_0x19a5f0,'vendorcode':_0x4af194,'deducttype':_0x196b31},'success':function(_0x2182da){var _0x45cbd6=_0x3da34b;$(_0x45cbd6(0x18a))[_0x45cbd6(0x1c6)](),$(_0x45cbd6(0x1a6))['prop'](_0x45cbd6(0x183),![]),$(_0x45cbd6(0x18f))['html'](_0x2182da),CheckAll(),DisabledInput(),SubtotalLines(),UoMKeyUp(),UnitCostKeyUp(),DeductionDisabled(),CheckBypass();}});}function CheckUncheck(){var _0x374ea9=_0x4137a8,_0x50a9a8=$(_0x374ea9(0x1ab))[_0x374ea9(0x16c)](_0x374ea9(0x1b9));_0x50a9a8==!![]?($('.input-check-sku:enabled')['prop'](_0x374ea9(0x1b9),!![]),CheckPerLine(),DeductionDisabled(),SubtotalLines()):($(_0x374ea9(0x17c))['prop']('checked',![]),CheckPerLine(),DeductionDisabled(),SubtotalLines());}function CheckPerLine(){var _0x279339=_0x4137a8;$(_0x279339(0x17c))[_0x279339(0x1bb)](function(){var _0x5697a8=_0x279339,_0x4055dd=$(this)[_0x5697a8(0x16c)](_0x5697a8(0x1b9));_0x4055dd==!![]?($(this)['closest'](_0x5697a8(0x1b5))[_0x5697a8(0x18d)](_0x5697a8(0x1bc))[_0x5697a8(0x16c)](_0x5697a8(0x183),![]),$(this)[_0x5697a8(0x181)](_0x5697a8(0x1b5))[_0x5697a8(0x18d)](_0x5697a8(0x1c8))[_0x5697a8(0x16c)](_0x5697a8(0x183),![])):($(this)[_0x5697a8(0x181)](_0x5697a8(0x1b5))[_0x5697a8(0x18d)](_0x5697a8(0x1bc))['prop']('disabled',!![]),$(this)['closest'](_0x5697a8(0x1b5))[_0x5697a8(0x18d)](_0x5697a8(0x1c8))[_0x5697a8(0x16c)](_0x5697a8(0x183),!![]));});}function DeductionDisabled(){var _0x3ce12b=_0x4137a8,_0x4b753b=$(_0x3ce12b(0x182))[_0x3ce12b(0x170)];_0x4b753b>=0x1?$(_0x3ce12b(0x1c0))['prop'](_0x3ce12b(0x183),![]):$(_0x3ce12b(0x1c0))['prop'](_0x3ce12b(0x183),!![]);}function CheckAll(){var _0x4de75a=_0x4137a8,_0x9d8735=$(_0x4de75a(0x182))[_0x4de75a(0x170)],_0x4cce8b=$('.tbl-order-detail-tr')[_0x4de75a(0x170)];_0x4cce8b>=0x1?$(_0x4de75a(0x1c0))['prop'](_0x4de75a(0x183),![]):$(_0x4de75a(0x1c0))[_0x4de75a(0x16c)]('disabled',!![]),_0x4cce8b==_0x9d8735?$(_0x4de75a(0x1ab))[_0x4de75a(0x16c)](_0x4de75a(0x1b9),!![]):$(_0x4de75a(0x1ab))[_0x4de75a(0x16c)]('checked',![]);}function DisabledInput(){var _0x4fcb17=_0x4137a8;$('.input-check-sku')['on'](_0x4fcb17(0x1c3),function(){var _0x149525=_0x4fcb17,_0x4fe9c5=$(this)[_0x149525(0x16c)](_0x149525(0x1b9));DeductionDisabled(),_0x4fe9c5==!![]?($(this)[_0x149525(0x181)](_0x149525(0x1b5))['find'](_0x149525(0x1bc))['prop']('disabled',![]),$(this)[_0x149525(0x181)](_0x149525(0x1b5))[_0x149525(0x18d)](_0x149525(0x1c8))[_0x149525(0x16c)]('disabled',![])):($(this)[_0x149525(0x181)](_0x149525(0x1b5))[_0x149525(0x18d)](_0x149525(0x1bc))[_0x149525(0x16c)](_0x149525(0x183),!![]),$(this)[_0x149525(0x181)](_0x149525(0x1b5))['find']('.input-unitcost')[_0x149525(0x16c)]('disabled',!![]));});}function UoMKeyUp(){var _0xe2d20c=_0x4137a8;$('.input-quantity')['on'](_0xe2d20c(0x17e),function(){var _0x40f60a=_0xe2d20c,_0x4c95dc=$(this)[_0x40f60a(0x16b)]();$(this)[_0x40f60a(0x16b)]()[_0x40f60a(0x170)]===0x0&&($(this)[_0x40f60a(0x16b)]('0'),$(this)['select']()),_0x4c95dc>=0x2?$(this)[_0x40f60a(0x181)](_0x40f60a(0x1b5))[_0x40f60a(0x18d)](_0x40f60a(0x17f))[_0x40f60a(0x16e)](_0x40f60a(0x1b0)):$(this)['closest'](_0x40f60a(0x1b5))[_0x40f60a(0x18d)](_0x40f60a(0x17f))[_0x40f60a(0x16e)]('PC');});}function UnitCostKeyUp(){var _0x53ed43=_0x4137a8;$(_0x53ed43(0x1c8))['on'](_0x53ed43(0x17e),function(){var _0x2b5043=_0x53ed43;$(this)[_0x2b5043(0x16b)]()[_0x2b5043(0x170)]===0x0&&($(this)[_0x2b5043(0x16b)]('0'),$(this)[_0x2b5043(0x1b2)]()),SubtotalLines();});}function SubtotalLines(){var _0x4df237=_0x4137a8,_0x417a54=0x0;$(_0x4df237(0x182))[_0x4df237(0x1bb)](function(){var _0x3dd13f=_0x4df237;_0x417a54+=parseFloat($(this)[_0x3dd13f(0x181)](_0x3dd13f(0x1b5))[_0x3dd13f(0x18d)]('.input-unitcost')['val']());}),$(_0x4df237(0x16f))['val'](addCommas(_0x417a54[_0x4df237(0x187)](0x2)));}function Deduction(){var _0x464e0c=_0x4137a8;return $('.div-confirm')[_0x464e0c(0x1b1)](),![];}function ProcessDeduct(){var _0x36cd15=_0x4137a8,_0x542ca9=$(_0x36cd15(0x199))[_0x36cd15(0x16b)](),_0x2c7774=$('.input-company')[_0x36cd15(0x191)]('companycode'),_0x3a7ee3=$(_0x36cd15(0x16d))[_0x36cd15(0x16b)](),_0x4a2d4f=$('.input-ordernumber')[_0x36cd15(0x16b)](),_0x58966c=$(_0x36cd15(0x1b4))['val'](),_0x4bf9df=$(_0x36cd15(0x198))[_0x36cd15(0x16b)](),_0x1a8e1f=$(_0x36cd15(0x1a0))['attr'](_0x36cd15(0x1a3)),_0x47239a=$(_0x36cd15(0x19b))['val']();$['ajax']({'type':_0x36cd15(0x19e),'beforeSend':function(){var _0x501084=_0x36cd15;$(_0x501084(0x1ad))[_0x501084(0x1c6)](),UpdateDBRaw();},'url':_0x36cd15(0x174),'data':{'principal':_0x542ca9,'company':_0x2c7774,'preparedby':_0x3a7ee3,'reference':_0x4a2d4f,'dateprocessed':_0x58966c,'status':_0x4bf9df,'refcode':_0x1a8e1f,'remarks':_0x47239a},'success':function(_0x37f4e3){var _0x4e35de=_0x36cd15;_0x37f4e3=='true'?($(_0x4e35de(0x188))[_0x4e35de(0x16e)](_0x4e35de(0x1c2)),$(_0x4e35de(0x188))[_0x4e35de(0x1b1)](),setTimeout(function(){var _0x1e1921=_0x4e35de;$('.span-notify-alert')[_0x1e1921(0x1c6)]();},0x7d0)):($(_0x4e35de(0x188))[_0x4e35de(0x16e)](_0x37f4e3),$(_0x4e35de(0x188))['show'](),$('.button-close')[_0x4e35de(0x1c3)](),LoadList(),setTimeout(function(){var _0xd1a1b9=_0x4e35de;$(_0xd1a1b9(0x188))[_0xd1a1b9(0x1c6)]();},0x7d0));}});}function UpdateDBRaw(){var _0x4c3e1a=_0x4137a8,_0x4ba567=$('.input-ordernumber')[_0x4c3e1a(0x16b)](),_0x450b33=$(_0x4c3e1a(0x198))[_0x4c3e1a(0x16b)]();$(_0x4c3e1a(0x182))[_0x4c3e1a(0x1bb)](function(){var _0x167a8e=_0x4c3e1a,_0x522d8a=$(this)[_0x167a8e(0x181)](_0x167a8e(0x1b5)),_0x15eb8d=_0x522d8a['attr'](_0x167a8e(0x1a9)),_0x233c34=_0x522d8a[_0x167a8e(0x18d)](_0x167a8e(0x178))[_0x167a8e(0x16b)](),_0xe77822=_0x522d8a[_0x167a8e(0x18d)](_0x167a8e(0x1ae))['val'](),_0x49f9d1=_0x522d8a[_0x167a8e(0x18d)]('.input-quantity')[_0x167a8e(0x16b)](),_0x28d8d8=_0x522d8a[_0x167a8e(0x18d)](_0x167a8e(0x1c8))[_0x167a8e(0x16b)]();$['ajax']({'type':'POST','url':_0x167a8e(0x1aa),'data':{'id':_0x15eb8d,'reference':_0x4ba567,'f325number':_0x233c34,'mdccode':_0xe77822,'quantity':_0x49f9d1,'unitcost':_0x28d8d8,'status':_0x450b33},'success':function(){}});});}